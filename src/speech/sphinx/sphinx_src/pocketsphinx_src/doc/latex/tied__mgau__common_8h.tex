\section{src/libpocketsphinx/tied\-\_\-mgau\-\_\-common.h File Reference}
\label{tied__mgau__common_8h}\index{src/libpocketsphinx/tied\-\_\-mgau\-\_\-common.\-h@{src/libpocketsphinx/tied\-\_\-mgau\-\_\-common.\-h}}


Common code shared between S\-C and P\-T\-M (tied-\/state) models.  


{\ttfamily \#include $<$sphinxbase/logmath.\-h$>$}\\*
{\ttfamily \#include $<$sphinxbase/fixpoint.\-h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries M\-G\-A\-U\-\_\-\-M\-I\-X\-W\-\_\-\-V\-E\-R\-S\-I\-O\-N}~\char`\"{}1.\-0\char`\"{}   /$\ast$ Sphinx-\/3 file format version for mixw $\ast$/\label{tied__mgau__common_8h_a6b148848668aa5ddeb21f9e5726f8205}

\item 
\#define {\bfseries M\-G\-A\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-V\-E\-R\-S\-I\-O\-N}~\char`\"{}1.\-0\char`\"{}   /$\ast$ Sphinx-\/3 file format version for mean/var $\ast$/\label{tied__mgau__common_8h_a14319cfdc013dfddf30896654b6e6500}

\item 
\#define {\bfseries N\-O\-N\-E}~-\/1\label{tied__mgau__common_8h_a655c84af1b0034986ff56e12e84f983d}

\item 
\#define {\bfseries W\-O\-R\-S\-T\-\_\-\-D\-I\-S\-T}~(int32)(0x80000000)\label{tied__mgau__common_8h_a9512d04e0db6aa7d0c857071935df145}

\item 
\#define {\bf G\-M\-M\-S\-U\-B}(a, b)~((a)-\/(b))\label{tied__mgau__common_8h_a740dfe5b30e702ba8b2ec7426bd4d57e}

\begin{DoxyCompactList}\small\item\em Subtract G\-M\-M component b (assumed to be positive) and saturate. \end{DoxyCompactList}\item 
\#define {\bfseries G\-M\-M\-A\-D\-D}(a, b)~((a)+(b))\label{tied__mgau__common_8h_a1f6b744cf1ced48452fcb90b5b0ccde2}

\item 
\#define {\bfseries M\-I\-N}(a, b)~((a) $<$ (b) ? (a) \-: (b))\label{tied__mgau__common_8h_a3acffbd305ee72dcd4593c0d8af64a4f}

\item 
\#define {\bfseries L\-O\-G\-M\-A\-T\-H\-\_\-\-I\-N\-L\-I\-N\-E}~static\label{tied__mgau__common_8h_a8be78151b3b0ce922541c2755b14ebf1}

\item 
\#define {\bf M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-M\-I\-X\-W}~159
\begin{DoxyCompactList}\small\item\em Maximum negated mixture weight value. \end{DoxyCompactList}\item 
\#define {\bf M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-A\-S\-C\-R}~96
\begin{DoxyCompactList}\small\item\em Maximum negated acoustic score value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
L\-O\-G\-M\-A\-T\-H\-\_\-\-I\-N\-L\-I\-N\-E int {\bf fast\-\_\-logmath\-\_\-add} (logmath\-\_\-t $\ast$lmath, int mlx, int mly)
\begin{DoxyCompactList}\small\item\em Quickly log-\/add two negated log probabilities. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Common code shared between S\-C and P\-T\-M (tied-\/state) models. 

Definition in file {\bf tied\-\_\-mgau\-\_\-common.\-h}.



\subsection{Macro Definition Documentation}
\index{tied\-\_\-mgau\-\_\-common.\-h@{tied\-\_\-mgau\-\_\-common.\-h}!M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-A\-S\-C\-R@{M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-A\-S\-C\-R}}
\index{M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-A\-S\-C\-R@{M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-A\-S\-C\-R}!tied_mgau_common.h@{tied\-\_\-mgau\-\_\-common.\-h}}
\subsubsection[{M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-A\-S\-C\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-A\-S\-C\-R~96}\label{tied__mgau__common_8h_a965d50d73044c3f2dc2589662fd2e89e}


Maximum negated acoustic score value. 



Definition at line 83 of file tied\-\_\-mgau\-\_\-common.\-h.

\index{tied\-\_\-mgau\-\_\-common.\-h@{tied\-\_\-mgau\-\_\-common.\-h}!M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-M\-I\-X\-W@{M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-M\-I\-X\-W}}
\index{M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-M\-I\-X\-W@{M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-M\-I\-X\-W}!tied_mgau_common.h@{tied\-\_\-mgau\-\_\-common.\-h}}
\subsubsection[{M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-M\-I\-X\-W}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-A\-X\-\_\-\-N\-E\-G\-\_\-\-M\-I\-X\-W~159}\label{tied__mgau__common_8h_ad739d757ed78293c18dc2386fd3b750e}


Maximum negated mixture weight value. 



Definition at line 82 of file tied\-\_\-mgau\-\_\-common.\-h.



\subsection{Function Documentation}
\index{tied\-\_\-mgau\-\_\-common.\-h@{tied\-\_\-mgau\-\_\-common.\-h}!fast\-\_\-logmath\-\_\-add@{fast\-\_\-logmath\-\_\-add}}
\index{fast\-\_\-logmath\-\_\-add@{fast\-\_\-logmath\-\_\-add}!tied_mgau_common.h@{tied\-\_\-mgau\-\_\-common.\-h}}
\subsubsection[{fast\-\_\-logmath\-\_\-add}]{\setlength{\rightskip}{0pt plus 5cm}L\-O\-G\-M\-A\-T\-H\-\_\-\-I\-N\-L\-I\-N\-E int fast\-\_\-logmath\-\_\-add (
\begin{DoxyParamCaption}
\item[{logmath\-\_\-t $\ast$}]{lmath, }
\item[{int}]{mlx, }
\item[{int}]{mly}
\end{DoxyParamCaption}
)}\label{tied__mgau__common_8h_a947ea19b4351ecbf70330e089994c3a1}


Quickly log-\/add two negated log probabilities. 


\begin{DoxyParams}{Parameters}
{\em lmath} & The log-\/math object \\
\hline
{\em mlx} & A negative log probability (0 $<$ mlx $<$ 255) \\
\hline
{\em mly} & A negative log probability (0 $<$ mly $<$ 255) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/log(exp(-\/mlx)+exp(-\/mly))
\end{DoxyReturn}
We can do some extra-\/fast log addition since we know that mixw+ascr is always less than 256 and hence x-\/y is also always less than 256. This relies on some cooperation from logmath\-\_\-t which will never produce a logmath table smaller than 256 entries.

Note that the parameters are {\itshape negated} log probabilities (and hence, are positive numbers), as is the return value. This is the key to the \char`\"{}fastness\char`\"{} of this function. 

Definition at line 103 of file tied\-\_\-mgau\-\_\-common.\-h.

