\section{src/libpocketsphinx/dict2pid.c File Reference}
\label{dict2pid_8c}\index{src/libpocketsphinx/dict2pid.\-c@{src/libpocketsphinx/dict2pid.\-c}}



\begin{DoxyItemize}
\item dictionary word to senone sequence mappings 
\end{DoxyItemize} 


{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include \char`\"{}dict2pid.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}hmm.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void {\bf compress\-\_\-table} (s3ssid\-\_\-t $\ast$uncomp\-\_\-tab, s3ssid\-\_\-t $\ast$com\-\_\-tab, {\bf s3cipid\-\_\-t} $\ast$ci\-\_\-map, int32 n\-\_\-ci)
\item 
int32 {\bf get\-\_\-rc\-\_\-nssid} ({\bf dict2pid\-\_\-t} $\ast$d2p, s3wid\-\_\-t w)
\begin{DoxyCompactList}\small\item\em A\-R\-C\-H\-A\-N, A duplicate of get\-\_\-rc\-\_\-npid in ctxt\-\_\-table.\-h. \end{DoxyCompactList}\item 
{\bf s3cipid\-\_\-t} $\ast$ {\bf dict2pid\-\_\-get\-\_\-rcmap} ({\bf dict2pid\-\_\-t} $\ast$d2p, s3wid\-\_\-t w)
\begin{DoxyCompactList}\small\item\em Get R\-C map. \end{DoxyCompactList}\item 
int {\bf dict2pid\-\_\-add\-\_\-word} ({\bf dict2pid\-\_\-t} $\ast$d2p, int32 wid)\label{dict2pid_8c_aa94120dcea4b17807576e29484b8a008}

\begin{DoxyCompactList}\small\item\em Add a word to the dict2pid structure (after adding it to dict). \end{DoxyCompactList}\item 
s3ssid\-\_\-t {\bf dict2pid\-\_\-internal} ({\bf dict2pid\-\_\-t} $\ast$d2p, int32 wid, int pos)\label{dict2pid_8c_a720e15c92ef6930e722bccb014e11b7b}

\begin{DoxyCompactList}\small\item\em Return the senone sequence I\-D for the given word position. \end{DoxyCompactList}\item 
{\bf dict2pid\-\_\-t} $\ast$ {\bf dict2pid\-\_\-build} ({\bf bin\-\_\-mdef\-\_\-t} $\ast$mdef, {\bf dict\-\_\-t} $\ast$dict)
\begin{DoxyCompactList}\small\item\em Build the dict2pid structure for the given model/dictionary. \end{DoxyCompactList}\item 
{\bf dict2pid\-\_\-t} $\ast$ {\bf dict2pid\-\_\-retain} ({\bf dict2pid\-\_\-t} $\ast$d2p)\label{dict2pid_8c_a85a8de8009445e1129766186ddaa949a}

\begin{DoxyCompactList}\small\item\em Retain a pointer to dict2pid. \end{DoxyCompactList}\item 
int {\bf dict2pid\-\_\-free} ({\bf dict2pid\-\_\-t} $\ast$d2p)
\begin{DoxyCompactList}\small\item\em Free the memory dict2pid structure. \end{DoxyCompactList}\item 
void {\bf dict2pid\-\_\-report} ({\bf dict2pid\-\_\-t} $\ast$d2p)
\begin{DoxyCompactList}\small\item\em Report a dict2pid data structure. \end{DoxyCompactList}\item 
void {\bf dict2pid\-\_\-dump} (F\-I\-L\-E $\ast$fp, {\bf dict2pid\-\_\-t} $\ast$d2p)
\begin{DoxyCompactList}\small\item\em For debugging. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}

\begin{DoxyItemize}
\item dictionary word to senone sequence mappings 
\end{DoxyItemize}

Definition in file {\bf dict2pid.\-c}.



\subsection{Function Documentation}
\index{dict2pid.\-c@{dict2pid.\-c}!compress\-\_\-table@{compress\-\_\-table}}
\index{compress\-\_\-table@{compress\-\_\-table}!dict2pid.c@{dict2pid.\-c}}
\subsubsection[{compress\-\_\-table}]{\setlength{\rightskip}{0pt plus 5cm}void compress\-\_\-table (
\begin{DoxyParamCaption}
\item[{s3ssid\-\_\-t $\ast$}]{uncomp\-\_\-tab, }
\item[{s3ssid\-\_\-t $\ast$}]{com\-\_\-tab, }
\item[{{\bf s3cipid\-\_\-t} $\ast$}]{ci\-\_\-map, }
\item[{int32}]{n\-\_\-ci}
\end{DoxyParamCaption}
)}\label{dict2pid_8c_af437f4d3a798db6828c42df69256f762}
Compress this map 

Definition at line 49 of file dict2pid.\-c.



References B\-A\-D\-\_\-\-S3\-C\-I\-P\-I\-D, and B\-A\-D\-\_\-\-S3\-S\-S\-I\-D.



Referenced by dict2pid\-\_\-add\-\_\-word().

\index{dict2pid.\-c@{dict2pid.\-c}!dict2pid\-\_\-build@{dict2pid\-\_\-build}}
\index{dict2pid\-\_\-build@{dict2pid\-\_\-build}!dict2pid.c@{dict2pid.\-c}}
\subsubsection[{dict2pid\-\_\-build}]{\setlength{\rightskip}{0pt plus 5cm}{\bf dict2pid\-\_\-t}$\ast$ dict2pid\-\_\-build (
\begin{DoxyParamCaption}
\item[{{\bf bin\-\_\-mdef\-\_\-t} $\ast$}]{mdef, }
\item[{{\bf dict\-\_\-t} $\ast$}]{dict}
\end{DoxyParamCaption}
)}\label{dict2pid_8c_addd541f2275b79e284575fb11b7986e1}


Build the dict2pid structure for the given model/dictionary. 


\begin{DoxyParams}{Parameters}
{\em mdef} & A model definition \\
\hline
{\em dict} & An initialized dictionary \\
\hline
\end{DoxyParams}


Definition at line 388 of file dict2pid.\-c.



References B\-A\-D\-\_\-\-S3\-S\-S\-I\-D, bin\-\_\-mdef\-\_\-ciphone\-\_\-str(), bin\-\_\-mdef\-\_\-retain(), dict2pid\-\_\-t\-::dict, dict2pid\-\_\-report(), dict\-\_\-pron, dict\-\_\-retain(), dict\-\_\-size, dict2pid\-\_\-t\-::ldiph\-\_\-lc, dict2pid\-\_\-t\-::lrdiph\-\_\-rc, dict2pid\-\_\-t\-::mdef, bin\-\_\-mdef\-\_\-s\-::n\-\_\-ciphone, W\-O\-R\-D\-\_\-\-P\-O\-S\-N\-\_\-\-B\-E\-G\-I\-N, and W\-O\-R\-D\-\_\-\-P\-O\-S\-N\-\_\-\-E\-N\-D.



Referenced by ps\-\_\-load\-\_\-dict(), and ps\-\_\-reinit().

\index{dict2pid.\-c@{dict2pid.\-c}!dict2pid\-\_\-dump@{dict2pid\-\_\-dump}}
\index{dict2pid\-\_\-dump@{dict2pid\-\_\-dump}!dict2pid.c@{dict2pid.\-c}}
\subsubsection[{dict2pid\-\_\-dump}]{\setlength{\rightskip}{0pt plus 5cm}void dict2pid\-\_\-dump (
\begin{DoxyParamCaption}
\item[{F\-I\-L\-E $\ast$}]{fp, }
\item[{{\bf dict2pid\-\_\-t} $\ast$}]{d2p}
\end{DoxyParamCaption}
)}\label{dict2pid_8c_a32320cd5d020620ac913b46bafeb5cae}


For debugging. 


\begin{DoxyParams}{Parameters}
{\em fp} & In\-: a file pointer \\
\hline
{\em d2p} & In\-: a \doxyref{dict2pid\-\_\-t}{p.}{structdict2pid__t} structure \\
\hline
\end{DoxyParams}


Definition at line 538 of file dict2pid.\-c.



References bin\-\_\-mdef\-\_\-ciphone\-\_\-str(), dict2pid\-\_\-t\-::dict, dict2pid\-\_\-internal(), dict\-\_\-size, dict2pid\-\_\-t\-::ldiph\-\_\-lc, dict2pid\-\_\-t\-::mdef, bin\-\_\-mdef\-\_\-s\-::n\-\_\-sseq, and bin\-\_\-mdef\-\_\-s\-::sseq.

\index{dict2pid.\-c@{dict2pid.\-c}!dict2pid\-\_\-free@{dict2pid\-\_\-free}}
\index{dict2pid\-\_\-free@{dict2pid\-\_\-free}!dict2pid.c@{dict2pid.\-c}}
\subsubsection[{dict2pid\-\_\-free}]{\setlength{\rightskip}{0pt plus 5cm}int dict2pid\-\_\-free (
\begin{DoxyParamCaption}
\item[{{\bf dict2pid\-\_\-t} $\ast$}]{d2p}
\end{DoxyParamCaption}
)}\label{dict2pid_8c_a293253226550e812c448ae096b364d0d}


Free the memory dict2pid structure. 


\begin{DoxyParams}{Parameters}
{\em d2p} & In\-: the d2p \\
\hline
\end{DoxyParams}


Definition at line 507 of file dict2pid.\-c.



References bin\-\_\-mdef\-\_\-free(), dict2pid\-\_\-t\-::dict, dict\-\_\-free(), dict2pid\-\_\-t\-::ldiph\-\_\-lc, dict2pid\-\_\-t\-::lrdiph\-\_\-rc, dict2pid\-\_\-t\-::lrssid, dict2pid\-\_\-t\-::mdef, and dict2pid\-\_\-t\-::rssid.



Referenced by ps\-\_\-alignment\-\_\-free(), ps\-\_\-free(), ps\-\_\-load\-\_\-dict(), ps\-\_\-reinit(), ps\-\_\-search\-\_\-base\-\_\-free(), and ps\-\_\-search\-\_\-base\-\_\-reinit().

\index{dict2pid.\-c@{dict2pid.\-c}!dict2pid\-\_\-get\-\_\-rcmap@{dict2pid\-\_\-get\-\_\-rcmap}}
\index{dict2pid\-\_\-get\-\_\-rcmap@{dict2pid\-\_\-get\-\_\-rcmap}!dict2pid.c@{dict2pid.\-c}}
\subsubsection[{dict2pid\-\_\-get\-\_\-rcmap}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s3cipid\-\_\-t}$\ast$ dict2pid\-\_\-get\-\_\-rcmap (
\begin{DoxyParamCaption}
\item[{{\bf dict2pid\-\_\-t} $\ast$}]{d2p, }
\item[{s3wid\-\_\-t}]{w}
\end{DoxyParamCaption}
)}\label{dict2pid_8c_a34aca68c98588e7e1a3f0e6d0800e1bf}


Get R\-C map. 


\begin{DoxyParams}{Parameters}
{\em d2p} & In\-: a dict2pid \\
\hline
{\em w} & In\-: a wid \\
\hline
\end{DoxyParams}


Definition at line 229 of file dict2pid.\-c.



References xwdssid\-\_\-t\-::cimap, dictword\-\_\-t\-::ciphone, dict2pid\-\_\-t\-::dict, dict2pid\-\_\-t\-::lrssid, dictword\-\_\-t\-::pronlen, dict2pid\-\_\-t\-::rssid, and dict\-\_\-t\-::word.

\index{dict2pid.\-c@{dict2pid.\-c}!dict2pid\-\_\-report@{dict2pid\-\_\-report}}
\index{dict2pid\-\_\-report@{dict2pid\-\_\-report}!dict2pid.c@{dict2pid.\-c}}
\subsubsection[{dict2pid\-\_\-report}]{\setlength{\rightskip}{0pt plus 5cm}void dict2pid\-\_\-report (
\begin{DoxyParamCaption}
\item[{{\bf dict2pid\-\_\-t} $\ast$}]{d2p}
\end{DoxyParamCaption}
)}\label{dict2pid_8c_a36c486f1ac64991c95c4c0ef75ceaa46}


Report a dict2pid data structure. 


\begin{DoxyParams}{Parameters}
{\em d2p} & In\-: a \doxyref{dict2pid\-\_\-t}{p.}{structdict2pid__t} structure \\
\hline
\end{DoxyParams}


Definition at line 533 of file dict2pid.\-c.



Referenced by dict2pid\-\_\-build().

\index{dict2pid.\-c@{dict2pid.\-c}!get\-\_\-rc\-\_\-nssid@{get\-\_\-rc\-\_\-nssid}}
\index{get\-\_\-rc\-\_\-nssid@{get\-\_\-rc\-\_\-nssid}!dict2pid.c@{dict2pid.\-c}}
\subsubsection[{get\-\_\-rc\-\_\-nssid}]{\setlength{\rightskip}{0pt plus 5cm}int32 get\-\_\-rc\-\_\-nssid (
\begin{DoxyParamCaption}
\item[{{\bf dict2pid\-\_\-t} $\ast$}]{d2p, }
\item[{s3wid\-\_\-t}]{w}
\end{DoxyParamCaption}
)}\label{dict2pid_8c_aa77890032a2c171ed9944b1d81fd5cb0}


A\-R\-C\-H\-A\-N, A duplicate of get\-\_\-rc\-\_\-npid in ctxt\-\_\-table.\-h. 

Get number of rc.

I doubt whether it is correct because the compressed map has not been checked. 
\begin{DoxyParams}{Parameters}
{\em d2p} & In\-: a dict2pid \\
\hline
{\em w} & In\-: a wid \\
\hline
\end{DoxyParams}


Definition at line 204 of file dict2pid.\-c.



References dictword\-\_\-t\-::ciphone, dict2pid\-\_\-t\-::dict, dict2pid\-\_\-t\-::lrssid, xwdssid\-\_\-t\-::n\-\_\-ssid, dictword\-\_\-t\-::pronlen, dict2pid\-\_\-t\-::rssid, and dict\-\_\-t\-::word.

