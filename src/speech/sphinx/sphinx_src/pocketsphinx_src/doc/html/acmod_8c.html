<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>PocketSphinx: src/libpocketsphinx/acmod.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PocketSphinx
   &#160;<span id="projectnumber">5prealpha</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('acmod_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">acmod.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Acoustic model structures for PocketSphinx.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;sphinxbase/prim_type.h&gt;</code><br/>
<code>#include &lt;sphinxbase/err.h&gt;</code><br/>
<code>#include &lt;sphinxbase/cmd_ln.h&gt;</code><br/>
<code>#include &lt;sphinxbase/strfuncs.h&gt;</code><br/>
<code>#include &lt;sphinxbase/byteorder.h&gt;</code><br/>
<code>#include &lt;sphinxbase/feat.h&gt;</code><br/>
<code>#include &lt;sphinxbase/bio.h&gt;</code><br/>
<code>#include &quot;cmdln_macro.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="acmod_8h_source.html">acmod.h</a>&quot;</code><br/>
<code>#include &quot;s2_semi_mgau.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="ptm__mgau_8h_source.html">ptm_mgau.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ms__mgau_8h_source.html">ms_mgau.h</a>&quot;</code><br/>
</div>
<p><a href="acmod_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a82e69009d3cd108c8aad8afe44fb1132"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82e69009d3cd108c8aad8afe44fb1132"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WORDS_BIGENDIAN</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a82e69009d3cd108c8aad8afe44fb1132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8017e0daafc566656931e15bef02cdee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>MPX_BITVEC_SET</b>(a, h, i)</td></tr>
<tr class="separator:a8017e0daafc566656931e15bef02cdee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba1b554be23311cdd7f89ff2a209819b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>NONMPX_BITVEC_SET</b>(a, h, i)</td></tr>
<tr class="separator:aba1b554be23311cdd7f89ff2a209819b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a39230c685c29c80a042b44b4a9dd05dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39230c685c29c80a042b44b4a9dd05dc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>acmod_fe_mismatch</b> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, fe_t *fe)</td></tr>
<tr class="separator:a39230c685c29c80a042b44b4a9dd05dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ebfbf8b1f15be46019910c44a81f343"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ebfbf8b1f15be46019910c44a81f343"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>acmod_feat_mismatch</b> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, feat_t *fcb)</td></tr>
<tr class="separator:a2ebfbf8b1f15be46019910c44a81f343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f32b623cbc3d15a1e3c5d09aba7dabf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a6f32b623cbc3d15a1e3c5d09aba7dabf">acmod_init</a> (cmd_ln_t *config, logmath_t *lmath, fe_t *fe, feat_t *fcb)</td></tr>
<tr class="memdesc:a6f32b623cbc3d15a1e3c5d09aba7dabf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an acoustic model.  <a href="#a6f32b623cbc3d15a1e3c5d09aba7dabf">More...</a><br/></td></tr>
<tr class="separator:a6f32b623cbc3d15a1e3c5d09aba7dabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e3345e8ef8b060fc04e88f86e6afa4a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e3345e8ef8b060fc04e88f86e6afa4a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a1e3345e8ef8b060fc04e88f86e6afa4a">acmod_free</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod)</td></tr>
<tr class="memdesc:a1e3345e8ef8b060fc04e88f86e6afa4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize an acoustic model. <br/></td></tr>
<tr class="separator:a1e3345e8ef8b060fc04e88f86e6afa4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4205b92d38db562577eafc3c432593ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ps__mllr_8h.html#ad4b6bf4c3cb6a671f79f1d709857d5b1">ps_mllr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a4205b92d38db562577eafc3c432593ab">acmod_update_mllr</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, <a class="el" href="ps__mllr_8h.html#ad4b6bf4c3cb6a671f79f1d709857d5b1">ps_mllr_t</a> *mllr)</td></tr>
<tr class="memdesc:a4205b92d38db562577eafc3c432593ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adapt acoustic model using a linear transform.  <a href="#a4205b92d38db562577eafc3c432593ab">More...</a><br/></td></tr>
<tr class="separator:a4205b92d38db562577eafc3c432593ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac561943e80e1478d7153d3c6320d57d9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac561943e80e1478d7153d3c6320d57d9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#ac561943e80e1478d7153d3c6320d57d9">acmod_write_senfh_header</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, FILE *logfh)</td></tr>
<tr class="memdesc:ac561943e80e1478d7153d3c6320d57d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write senone dump file header. <br/></td></tr>
<tr class="separator:ac561943e80e1478d7153d3c6320d57d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab35cb48cdf326a3fb5223589d73ae0ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#ab35cb48cdf326a3fb5223589d73ae0ce">acmod_set_senfh</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, FILE *logfh)</td></tr>
<tr class="memdesc:ab35cb48cdf326a3fb5223589d73ae0ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start logging senone scores to a filehandle.  <a href="#ab35cb48cdf326a3fb5223589d73ae0ce">More...</a><br/></td></tr>
<tr class="separator:ab35cb48cdf326a3fb5223589d73ae0ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5753caa516c75bdc74b385d7aa66a97c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a5753caa516c75bdc74b385d7aa66a97c">acmod_set_mfcfh</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, FILE *logfh)</td></tr>
<tr class="memdesc:a5753caa516c75bdc74b385d7aa66a97c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start logging MFCCs to a filehandle.  <a href="#a5753caa516c75bdc74b385d7aa66a97c">More...</a><br/></td></tr>
<tr class="separator:a5753caa516c75bdc74b385d7aa66a97c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6979441ae866ea846ef41f8471b105a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a6979441ae866ea846ef41f8471b105a0">acmod_set_rawfh</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, FILE *logfh)</td></tr>
<tr class="memdesc:a6979441ae866ea846ef41f8471b105a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start logging raw audio to a filehandle.  <a href="#a6979441ae866ea846ef41f8471b105a0">More...</a><br/></td></tr>
<tr class="separator:a6979441ae866ea846ef41f8471b105a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fc67b1c8d3de7324c69c036e1c42991"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5fc67b1c8d3de7324c69c036e1c42991"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>acmod_grow_feat_buf</b> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, int nfr)</td></tr>
<tr class="separator:a5fc67b1c8d3de7324c69c036e1c42991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1555dac8fa27f644d709c5c89bbfa881"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a1555dac8fa27f644d709c5c89bbfa881">acmod_set_grow</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, int grow_feat)</td></tr>
<tr class="memdesc:a1555dac8fa27f644d709c5c89bbfa881"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set memory allocation policy for utterance processing.  <a href="#a1555dac8fa27f644d709c5c89bbfa881">More...</a><br/></td></tr>
<tr class="separator:a1555dac8fa27f644d709c5c89bbfa881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a5a89f76338e3e1bcfa7a2cecc5845"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa3a5a89f76338e3e1bcfa7a2cecc5845"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#aa3a5a89f76338e3e1bcfa7a2cecc5845">acmod_start_utt</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod)</td></tr>
<tr class="memdesc:aa3a5a89f76338e3e1bcfa7a2cecc5845"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the start of an utterance. <br/></td></tr>
<tr class="separator:aa3a5a89f76338e3e1bcfa7a2cecc5845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a262372bdd6063f61e64b5417a449c1a9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a262372bdd6063f61e64b5417a449c1a9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a262372bdd6063f61e64b5417a449c1a9">acmod_end_utt</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod)</td></tr>
<tr class="memdesc:a262372bdd6063f61e64b5417a449c1a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the end of an utterance. <br/></td></tr>
<tr class="separator:a262372bdd6063f61e64b5417a449c1a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23e63c8833e6128ae248e183d42f9b2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a23e63c8833e6128ae248e183d42f9b2b">acmod_process_raw</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, int16 const **inout_raw, size_t *inout_n_samps, int full_utt)</td></tr>
<tr class="memdesc:a23e63c8833e6128ae248e183d42f9b2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">TODO: Set queue length for utterance processing.  <a href="#a23e63c8833e6128ae248e183d42f9b2b">More...</a><br/></td></tr>
<tr class="separator:a23e63c8833e6128ae248e183d42f9b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9464f7708a361171469d613d401619fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a9464f7708a361171469d613d401619fe">acmod_process_cep</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, mfcc_t ***inout_cep, int *inout_n_frames, int full_utt)</td></tr>
<tr class="memdesc:a9464f7708a361171469d613d401619fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feed acoustic feature data into the acoustic model for scoring.  <a href="#a9464f7708a361171469d613d401619fe">More...</a><br/></td></tr>
<tr class="separator:a9464f7708a361171469d613d401619fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16e414d5a07519d7b462c32377e8a47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#ab16e414d5a07519d7b462c32377e8a47">acmod_process_feat</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, mfcc_t **feat)</td></tr>
<tr class="memdesc:ab16e414d5a07519d7b462c32377e8a47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feed dynamic feature data into the acoustic model for scoring.  <a href="#ab16e414d5a07519d7b462c32377e8a47">More...</a><br/></td></tr>
<tr class="separator:ab16e414d5a07519d7b462c32377e8a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58bd6038bec5d3901ac2057cacdd778a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a58bd6038bec5d3901ac2057cacdd778a">acmod_set_insenfh</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, FILE *senfh)</td></tr>
<tr class="memdesc:a58bd6038bec5d3901ac2057cacdd778a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a senone score dump file for input.  <a href="#a58bd6038bec5d3901ac2057cacdd778a">More...</a><br/></td></tr>
<tr class="separator:a58bd6038bec5d3901ac2057cacdd778a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b5f0b6edac2985b9b56d630cd705b99"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a7b5f0b6edac2985b9b56d630cd705b99">acmod_rewind</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod)</td></tr>
<tr class="memdesc:a7b5f0b6edac2985b9b56d630cd705b99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewind the current utterance, allowing it to be rescored.  <a href="#a7b5f0b6edac2985b9b56d630cd705b99">More...</a><br/></td></tr>
<tr class="separator:a7b5f0b6edac2985b9b56d630cd705b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a338971ea0aa27fb4796d224e4767642b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a338971ea0aa27fb4796d224e4767642b">acmod_advance</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod)</td></tr>
<tr class="memdesc:a338971ea0aa27fb4796d224e4767642b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance the frame index.  <a href="#a338971ea0aa27fb4796d224e4767642b">More...</a><br/></td></tr>
<tr class="separator:a338971ea0aa27fb4796d224e4767642b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d1f73cd1d975ec0da9de00b80b36e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a66d1f73cd1d975ec0da9de00b80b36e2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a66d1f73cd1d975ec0da9de00b80b36e2">acmod_write_scores</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, int n_active, uint8 const *active, int16 const *senscr, FILE *senfh)</td></tr>
<tr class="memdesc:a66d1f73cd1d975ec0da9de00b80b36e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a frame of senone scores to a dump file. <br/></td></tr>
<tr class="separator:a66d1f73cd1d975ec0da9de00b80b36e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c193164be78ad42944b7fb1be6299a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a5c193164be78ad42944b7fb1be6299a2">acmod_read_scores</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod)</td></tr>
<tr class="memdesc:a5c193164be78ad42944b7fb1be6299a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one frame of scores from senone score dump file.  <a href="#a5c193164be78ad42944b7fb1be6299a2">More...</a><br/></td></tr>
<tr class="separator:a5c193164be78ad42944b7fb1be6299a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c63cce3b20f231aa483bf054eca3c6"><td class="memItemLeft" align="right" valign="top">mfcc_t **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a91c63cce3b20f231aa483bf054eca3c6">acmod_get_frame</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, int *inout_frame_idx)</td></tr>
<tr class="memdesc:a91c63cce3b20f231aa483bf054eca3c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a frame of dynamic feature data.  <a href="#a91c63cce3b20f231aa483bf054eca3c6">More...</a><br/></td></tr>
<tr class="separator:a91c63cce3b20f231aa483bf054eca3c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd78e9bae06724df9c53f844d90c1c8a"><td class="memItemLeft" align="right" valign="top">int16 const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#acd78e9bae06724df9c53f844d90c1c8a">acmod_score</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, int *inout_frame_idx)</td></tr>
<tr class="memdesc:acd78e9bae06724df9c53f844d90c1c8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Score one frame of data.  <a href="#acd78e9bae06724df9c53f844d90c1c8a">More...</a><br/></td></tr>
<tr class="separator:acd78e9bae06724df9c53f844d90c1c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3249e1ce0c8155dc23f332f97ddd493b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3249e1ce0c8155dc23f332f97ddd493b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a3249e1ce0c8155dc23f332f97ddd493b">acmod_best_score</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, int *out_best_senid)</td></tr>
<tr class="memdesc:a3249e1ce0c8155dc23f332f97ddd493b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get best score and senone index for current frame. <br/></td></tr>
<tr class="separator:a3249e1ce0c8155dc23f332f97ddd493b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed43f033f434e34fd90c975909d81cb2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed43f033f434e34fd90c975909d81cb2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#aed43f033f434e34fd90c975909d81cb2">acmod_clear_active</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod)</td></tr>
<tr class="memdesc:aed43f033f434e34fd90c975909d81cb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear set of active senones. <br/></td></tr>
<tr class="separator:aed43f033f434e34fd90c975909d81cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7f67d462279b2bc4774c7967ae61c7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a7f67d462279b2bc4774c7967ae61c7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a2a7f67d462279b2bc4774c7967ae61c7">acmod_activate_hmm</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, <a class="el" href="structhmm__t.html">hmm_t</a> *hmm)</td></tr>
<tr class="memdesc:a2a7f67d462279b2bc4774c7967ae61c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate senones associated with an HMM. <br/></td></tr>
<tr class="separator:a2a7f67d462279b2bc4774c7967ae61c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12224c741f7ea76faf88a29537f83dd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad12224c741f7ea76faf88a29537f83dd"></a>
int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#ad12224c741f7ea76faf88a29537f83dd">acmod_flags2list</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod)</td></tr>
<tr class="memdesc:ad12224c741f7ea76faf88a29537f83dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build active list from. <br/></td></tr>
<tr class="separator:ad12224c741f7ea76faf88a29537f83dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b52ce1289cc84deda1cf98b4cebbca2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b52ce1289cc84deda1cf98b4cebbca2"></a>
int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a8b52ce1289cc84deda1cf98b4cebbca2">acmod_stream_offset</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod)</td></tr>
<tr class="memdesc:a8b52ce1289cc84deda1cf98b4cebbca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the offset of the utterance start of the current stream, helpful for stream-wide timing. <br/></td></tr>
<tr class="separator:a8b52ce1289cc84deda1cf98b4cebbca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae065d2fafc704177e7537988c9d3b5c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae065d2fafc704177e7537988c9d3b5c1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#ae065d2fafc704177e7537988c9d3b5c1">acmod_start_stream</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod)</td></tr>
<tr class="memdesc:ae065d2fafc704177e7537988c9d3b5c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the current stream. <br/></td></tr>
<tr class="separator:ae065d2fafc704177e7537988c9d3b5c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c8dce7790c4486d1ee1b20d810805bf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c8dce7790c4486d1ee1b20d810805bf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a8c8dce7790c4486d1ee1b20d810805bf">acmod_set_rawdata_size</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, int32 size)</td></tr>
<tr class="memdesc:a8c8dce7790c4486d1ee1b20d810805bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the limit of the raw audio data to store. <br/></td></tr>
<tr class="separator:a8c8dce7790c4486d1ee1b20d810805bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0804fc79c26de167a95ece1189effbec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0804fc79c26de167a95ece1189effbec"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acmod_8c.html#a0804fc79c26de167a95ece1189effbec">acmod_get_rawdata</a> (<a class="el" href="structacmod__s.html">acmod_t</a> *acmod, int16 **buffer, int32 *size)</td></tr>
<tr class="memdesc:a0804fc79c26de167a95ece1189effbec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the raw data collected during utterance decoding. <br/></td></tr>
<tr class="separator:a0804fc79c26de167a95ece1189effbec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Acoustic model structures for PocketSphinx. </p>
<dl class="section author"><dt>Author</dt><dd>David Huggins-Daines <a href="#" onclick="location.href='mai'+'lto:'+'dhu'+'gg'+'ins'+'@c'+'s.c'+'mu'+'.ed'+'u'; return false;">dhugg<span style="display: none;">.nosp@m.</span>ins@<span style="display: none;">.nosp@m.</span>cs.cm<span style="display: none;">.nosp@m.</span>u.ed<span style="display: none;">.nosp@m.</span>u</a> </dd></dl>

<p>Definition in file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a8017e0daafc566656931e15bef02cdee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPX_BITVEC_SET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> (hmm_mpx_ssid(h,i) != <a class="code" href="bin__mdef_8h.html#a8ee283c316e9f4aa8e6d18c1d44026bc">BAD_SSID</a>)                          \</div>
<div class="line">        bitvec_set((a)-&gt;senone_active_vec, hmm_mpx_senid(h,i))</div>
<div class="ttc" id="bin__mdef_8h_html_a8ee283c316e9f4aa8e6d18c1d44026bc"><div class="ttname"><a href="bin__mdef_8h.html#a8ee283c316e9f4aa8e6d18c1d44026bc">BAD_SSID</a></div><div class="ttdeci">#define BAD_SSID</div><div class="ttdoc">Invalid senone sequence ID (limited to 16 bits for PocketSphinx). </div><div class="ttdef"><b>Definition:</b> <a href="bin__mdef_8h_source.html#l00094">bin_mdef.h:94</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="acmod_8c_source.html#l01225">1225</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

</div>
</div>
<a class="anchor" id="aba1b554be23311cdd7f89ff2a209819b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NONMPX_BITVEC_SET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">bitvec_set((a)-&gt;senone_active_vec,                                  \</div>
<div class="line">               hmm_nonmpx_senid(h,i))</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="acmod_8c_source.html#l01228">1228</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a338971ea0aa27fb4796d224e4767642b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_advance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advance the frame index. </p>
<p>This function moves to the next frame of input data. Subsequent calls to <a class="el" href="acmod_8h.html#acd78e9bae06724df9c53f844d90c1c8a" title="Score one frame of data. ">acmod_score()</a> will return scores for that frame, until the next call to <a class="el" href="acmod_8h.html#a338971ea0aa27fb4796d224e4767642b" title="Advance the frame index. ">acmod_advance()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>New frame index. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00919">919</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00200">acmod_s::feat_outidx</a>, <a class="el" href="acmod_8h_source.html#l00115">ps_mgau_s::frame_idx</a>, <a class="el" href="acmod_8h_source.html#l00161">acmod_s::mgau</a>, <a class="el" href="acmod_8h_source.html#l00198">acmod_s::n_feat_alloc</a>, <a class="el" href="acmod_8h_source.html#l00199">acmod_s::n_feat_frame</a>, and <a class="el" href="acmod_8h_source.html#l00194">acmod_s::output_frame</a>.</p>

</div>
</div>
<a class="anchor" id="a91c63cce3b20f231aa483bf054eca3c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mfcc_t** acmod_get_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>inout_frame_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a frame of dynamic feature data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inout_frame_idx</td><td>Input: frame index to get, or NULL to obtain features for the most recent frame. Output: frame index corresponding to this set of features. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Feature array, or NULL if requested frame is not available. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l01108">1108</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00174">acmod_s::feat_buf</a>.</p>

</div>
</div>
<a class="anchor" id="a6f32b623cbc3d15a1e3c5d09aba7dabf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structacmod__s.html">acmod_t</a>* acmod_init </td>
          <td>(</td>
          <td class="paramtype">cmd_ln_t *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logmath_t *&#160;</td>
          <td class="paramname"><em>lmath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fe_t *&#160;</td>
          <td class="paramname"><em>fe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">feat_t *&#160;</td>
          <td class="paramname"><em>fcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an acoustic model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>a command-line object containing parameters. This pointer is not retained by this object. </td></tr>
    <tr><td class="paramname">lmath</td><td>global log-math parameters. </td></tr>
    <tr><td class="paramname">fe</td><td>a previously-initialized acoustic feature module to use, or NULL to create one automatically. If this is supplied and its parameters do not match those in the acoustic model, this function will fail. This pointer is not retained. </td></tr>
    <tr><td class="paramname">fe</td><td>a previously-initialized dynamic feature module to use, or NULL to create one automatically. If this is supplied and its parameters do not match those in the acoustic model, this function will fail. This pointer is not retained. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a newly initialized acmod_t, or NULL on failure. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00230">230</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8c_source.html#l00301">acmod_free()</a>, <a class="el" href="acmod_8h_source.html#l00068">ACMOD_IDLE</a>, <a class="el" href="acmod_8h_source.html#l00188">acmod_s::compallsen</a>, <a class="el" href="acmod_8h_source.html#l00150">acmod_s::config</a>, <a class="el" href="acmod_8h_source.html#l00156">acmod_s::fcb</a>, <a class="el" href="acmod_8h_source.html#l00155">acmod_s::fe</a>, <a class="el" href="acmod_8h_source.html#l00174">acmod_s::feat_buf</a>, <a class="el" href="acmod_8h_source.html#l00179">acmod_s::framepos</a>, <a class="el" href="acmod_8h_source.html#l00151">acmod_s::lmath</a>, <a class="el" href="acmod_8h_source.html#l00170">acmod_s::log_zero</a>, <a class="el" href="acmod_8h_source.html#l00159">acmod_s::mdef</a>, <a class="el" href="acmod_8h_source.html#l00173">acmod_s::mfc_buf</a>, <a class="el" href="acmod_8h_source.html#l00198">acmod_s::n_feat_alloc</a>, <a class="el" href="acmod_8h_source.html#l00195">acmod_s::n_mfc_alloc</a>, <a class="el" href="acmod_8h_source.html#l00167">acmod_s::senone_active</a>, <a class="el" href="acmod_8h_source.html#l00166">acmod_s::senone_active_vec</a>, <a class="el" href="acmod_8h_source.html#l00165">acmod_s::senone_scores</a>, <a class="el" href="acmod_8h_source.html#l00187">acmod_s::state</a>, and <a class="el" href="acmod_8h_source.html#l00192">acmod_s::utt_start_frame</a>.</p>

<p>Referenced by <a class="el" href="pocketsphinx_8c_source.html#l00241">ps_reinit()</a>.</p>

</div>
</div>
<a class="anchor" id="a9464f7708a361171469d613d401619fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_process_cep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mfcc_t ***&#160;</td>
          <td class="paramname"><em>inout_cep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>inout_n_frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>full_utt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feed acoustic feature data into the acoustic model for scoring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inout_cep</td><td>In: Pointer to buffer of features Out: Pointer to next frame to be read </td></tr>
    <tr><td class="paramname">inout_n_frames</td><td>In: Number of frames available Out: Number of frames remaining </td></tr>
    <tr><td class="paramname">full_utt</td><td>If non-zero, this block represents a full utterance and should be processed as such. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of frames of data processed. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00719">719</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00071">ACMOD_ENDED</a>, <a class="el" href="acmod_8h_source.html#l00070">ACMOD_PROCESSING</a>, <a class="el" href="acmod_8h_source.html#l00069">ACMOD_STARTED</a>, <a class="el" href="acmod_8h_source.html#l00156">acmod_s::fcb</a>, <a class="el" href="acmod_8h_source.html#l00174">acmod_s::feat_buf</a>, <a class="el" href="acmod_8h_source.html#l00200">acmod_s::feat_outidx</a>, <a class="el" href="acmod_8h_source.html#l00189">acmod_s::grow_feat</a>, <a class="el" href="acmod_8h_source.html#l00176">acmod_s::mfcfh</a>, <a class="el" href="acmod_8h_source.html#l00198">acmod_s::n_feat_alloc</a>, <a class="el" href="acmod_8h_source.html#l00199">acmod_s::n_feat_frame</a>, and <a class="el" href="acmod_8h_source.html#l00187">acmod_s::state</a>.</p>

</div>
</div>
<a class="anchor" id="ab16e414d5a07519d7b462c32377e8a47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_process_feat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mfcc_t **&#160;</td>
          <td class="paramname"><em>feat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feed dynamic feature data into the acoustic model for scoring. </p>
<p>Unlike <a class="el" href="acmod_8h.html#a23e63c8833e6128ae248e183d42f9b2b" title="TODO: Set queue length for utterance processing. ">acmod_process_raw()</a> and <a class="el" href="acmod_8h.html#a9464f7708a361171469d613d401619fe" title="Feed acoustic feature data into the acoustic model for scoring. ">acmod_process_cep()</a>, this function accepts a single frame at a time. This is because there is no need to do buffering when using dynamic features as input. However, if the dynamic feature buffer is full, this function will fail, so you should either always check the return value, or always pair a call to it with a call to <a class="el" href="acmod_8h.html#acd78e9bae06724df9c53f844d90c1c8a" title="Score one frame of data. ">acmod_score()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feat</td><td>Pointer to one frame of dynamic features. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of frames processed (either 0 or 1). </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00817">817</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00156">acmod_s::fcb</a>, <a class="el" href="acmod_8h_source.html#l00174">acmod_s::feat_buf</a>, <a class="el" href="acmod_8h_source.html#l00200">acmod_s::feat_outidx</a>, <a class="el" href="acmod_8h_source.html#l00189">acmod_s::grow_feat</a>, <a class="el" href="acmod_8h_source.html#l00198">acmod_s::n_feat_alloc</a>, and <a class="el" href="acmod_8h_source.html#l00199">acmod_s::n_feat_frame</a>.</p>

</div>
</div>
<a class="anchor" id="a23e63c8833e6128ae248e183d42f9b2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_process_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16 const **&#160;</td>
          <td class="paramname"><em>inout_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>inout_n_samps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>full_utt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TODO: Set queue length for utterance processing. </p>
<p>This function allows multiple concurrent passes of search to operate on different parts of the utterance. Feed raw audio data to the acoustic model for scoring.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inout_raw</td><td>In: Pointer to buffer of raw samples Out: Pointer to next sample to be read </td></tr>
    <tr><td class="paramname">inout_n_samps</td><td>In: Number of samples available Out: Number of samples remaining </td></tr>
    <tr><td class="paramname">full_utt</td><td>If non-zero, this block represents a full utterance and should be processed as such. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of frames of data processed. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00627">627</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00155">acmod_s::fe</a>, <a class="el" href="acmod_8h_source.html#l00173">acmod_s::mfc_buf</a>, <a class="el" href="acmod_8h_source.html#l00197">acmod_s::mfc_outidx</a>, <a class="el" href="acmod_8h_source.html#l00195">acmod_s::n_mfc_alloc</a>, <a class="el" href="acmod_8h_source.html#l00196">acmod_s::n_mfc_frame</a>, <a class="el" href="acmod_8h_source.html#l00175">acmod_s::rawfh</a>, and <a class="el" href="acmod_8h_source.html#l00192">acmod_s::utt_start_frame</a>.</p>

<p>Referenced by <a class="el" href="pocketsphinx_8c_source.html#l01080">ps_process_raw()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c193164be78ad42944b7fb1be6299a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_read_scores </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one frame of scores from senone score dump file. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of frames read or &lt;0 on error. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l01032">1032</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00200">acmod_s::feat_outidx</a>, <a class="el" href="acmod_8h_source.html#l00179">acmod_s::framepos</a>, <a class="el" href="acmod_8h_source.html#l00189">acmod_s::grow_feat</a>, <a class="el" href="acmod_8h_source.html#l00178">acmod_s::insenfh</a>, <a class="el" href="acmod_8h_source.html#l00198">acmod_s::n_feat_alloc</a>, <a class="el" href="acmod_8h_source.html#l00199">acmod_s::n_feat_frame</a>, <a class="el" href="acmod_8h_source.html#l00169">acmod_s::n_senone_active</a>, <a class="el" href="acmod_8h_source.html#l00194">acmod_s::output_frame</a>, and <a class="el" href="acmod_8h_source.html#l00168">acmod_s::senscr_frame</a>.</p>

<p>Referenced by <a class="el" href="pocketsphinx_8c_source.html#l01059">ps_decode_senscr()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b5f0b6edac2985b9b56d630cd705b99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_rewind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rewind the current utterance, allowing it to be rescored. </p>
<p>After calling this function, the internal frame index is reset, and <a class="el" href="acmod_8h.html#acd78e9bae06724df9c53f844d90c1c8a" title="Score one frame of data. ">acmod_score()</a> will return scores starting at the first frame of the current utterance. Currently, <a class="el" href="acmod_8h.html#a1555dac8fa27f644d709c5c89bbfa881" title="Set memory allocation policy for utterance processing. ">acmod_set_grow()</a> must have been called to enable growing the feature buffer in order for this to work. In the future, senone scores may be cached instead.</p>
<dl class="section return"><dt>Returns</dt><dd>0 for success, &lt;0 for failure (if the utterance can't be rewound due to no feature or score data available) </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00897">897</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00200">acmod_s::feat_outidx</a>, <a class="el" href="acmod_8h_source.html#l00115">ps_mgau_s::frame_idx</a>, <a class="el" href="acmod_8h_source.html#l00161">acmod_s::mgau</a>, <a class="el" href="acmod_8h_source.html#l00198">acmod_s::n_feat_alloc</a>, <a class="el" href="acmod_8h_source.html#l00199">acmod_s::n_feat_frame</a>, <a class="el" href="acmod_8h_source.html#l00194">acmod_s::output_frame</a>, and <a class="el" href="acmod_8h_source.html#l00168">acmod_s::senscr_frame</a>.</p>

</div>
</div>
<a class="anchor" id="acd78e9bae06724df9c53f844d90c1c8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16 const* acmod_score </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>inout_frame_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Score one frame of data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inout_frame_idx</td><td>Input: frame index to score, or NULL to obtain scores for the most recent frame. Output: frame index corresponding to this set of scores. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Array of senone scores for this frame, or NULL if no frame is available for scoring (such as if a frame index is requested that is not yet or no longer available). The data pointed to persists only until the next call to <a class="el" href="acmod_8h.html#acd78e9bae06724df9c53f844d90c1c8a" title="Score one frame of data. ">acmod_score()</a> or <a class="el" href="acmod_8h.html#a338971ea0aa27fb4796d224e4767642b" title="Advance the frame index. ">acmod_advance()</a>. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l01126">1126</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8c_source.html#l01274">acmod_flags2list()</a>, <a class="el" href="acmod_8c_source.html#l00931">acmod_write_scores()</a>, <a class="el" href="acmod_8h_source.html#l00188">acmod_s::compallsen</a>, <a class="el" href="acmod_8h_source.html#l00174">acmod_s::feat_buf</a>, <a class="el" href="acmod_8h_source.html#l00179">acmod_s::framepos</a>, <a class="el" href="acmod_8h_source.html#l00178">acmod_s::insenfh</a>, <a class="el" href="acmod_8h_source.html#l00161">acmod_s::mgau</a>, <a class="el" href="acmod_8h_source.html#l00169">acmod_s::n_senone_active</a>, <a class="el" href="acmod_8h_source.html#l00177">acmod_s::senfh</a>, <a class="el" href="acmod_8h_source.html#l00167">acmod_s::senone_active</a>, <a class="el" href="acmod_8h_source.html#l00165">acmod_s::senone_scores</a>, and <a class="el" href="acmod_8h_source.html#l00168">acmod_s::senscr_frame</a>.</p>

<p>Referenced by <a class="el" href="ngram__search__fwdflat_8c_source.html#l00816">ngram_fwdflat_search()</a>, and <a class="el" href="ngram__search__fwdtree_8c_source.html#l01458">ngram_fwdtree_search()</a>.</p>

</div>
</div>
<a class="anchor" id="a1555dac8fa27f644d709c5c89bbfa881"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_set_grow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>grow_feat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set memory allocation policy for utterance processing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">grow_feat</td><td>If non-zero, the internal dynamic feature buffer will expand as necessary to encompass any amount of data fed to the model. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>previous allocation policy. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00412">412</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00189">acmod_s::grow_feat</a>, and <a class="el" href="acmod_8h_source.html#l00198">acmod_s::n_feat_alloc</a>.</p>

<p>Referenced by <a class="el" href="ngram__search_8c_source.html#l00140">ngram_search_init()</a>, and <a class="el" href="pocketsphinx_8c_source.html#l01080">ps_process_raw()</a>.</p>

</div>
</div>
<a class="anchor" id="a58bd6038bec5d3901ac2057cacdd778a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_set_insenfh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>insenfh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up a senone score dump file for input. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">insenfh</td><td>File handle of dump file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, &lt;0 for failure </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00884">884</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00188">acmod_s::compallsen</a>, <a class="el" href="acmod_8h_source.html#l00150">acmod_s::config</a>, <a class="el" href="acmod_8h_source.html#l00178">acmod_s::insenfh</a>, and <a class="el" href="acmod_8h_source.html#l00199">acmod_s::n_feat_frame</a>.</p>

<p>Referenced by <a class="el" href="pocketsphinx_8c_source.html#l01059">ps_decode_senscr()</a>.</p>

</div>
</div>
<a class="anchor" id="a5753caa516c75bdc74b385d7aa66a97c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_set_mfcfh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>logfh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start logging MFCCs to a filehandle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">acmod</td><td>Acoustic model object. </td></tr>
    <tr><td class="paramname">logfh</td><td>Filehandle to log to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, &lt;0 on error. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00377">377</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00176">acmod_s::mfcfh</a>.</p>

<p>Referenced by <a class="el" href="pocketsphinx_8c_source.html#l00956">ps_start_utt()</a>.</p>

</div>
</div>
<a class="anchor" id="a6979441ae866ea846ef41f8471b105a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_set_rawfh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>logfh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start logging raw audio to a filehandle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">acmod</td><td>Acoustic model object. </td></tr>
    <tr><td class="paramname">logfh</td><td>Filehandle to log to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, &lt;0 on error. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00389">389</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00175">acmod_s::rawfh</a>.</p>

<p>Referenced by <a class="el" href="pocketsphinx_8c_source.html#l00956">ps_start_utt()</a>.</p>

</div>
</div>
<a class="anchor" id="ab35cb48cdf326a3fb5223589d73ae0ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acmod_set_senfh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>senfh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start logging senone scores to a filehandle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">acmod</td><td>Acoustic model object. </td></tr>
    <tr><td class="paramname">logfh</td><td>Filehandle to log to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, &lt;0 on error. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00366">366</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8c_source.html#l00352">acmod_write_senfh_header()</a>, and <a class="el" href="acmod_8h_source.html#l00177">acmod_s::senfh</a>.</p>

<p>Referenced by <a class="el" href="pocketsphinx_8c_source.html#l00956">ps_start_utt()</a>.</p>

</div>
</div>
<a class="anchor" id="a4205b92d38db562577eafc3c432593ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ps__mllr_8h.html#ad4b6bf4c3cb6a671f79f1d709857d5b1">ps_mllr_t</a>* acmod_update_mllr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structacmod__s.html">acmod_t</a> *&#160;</td>
          <td class="paramname"><em>acmod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ps__mllr_8h.html#ad4b6bf4c3cb6a671f79f1d709857d5b1">ps_mllr_t</a> *&#160;</td>
          <td class="paramname"><em>mllr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adapt acoustic model using a linear transform. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mllr</td><td>The new transform to use, or NULL to update the existing transform. The decoder retains ownership of this pointer, so you should not attempt to free it manually. Use <a class="el" href="ps__mllr_8h.html#a2f40deff6976bf03a845aa474494edfb" title="Retain a pointer to a linear transform. ">ps_mllr_retain()</a> if you wish to reuse it elsewhere. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The updated transform object for this decoder, or NULL on failure. </dd></dl>

<p>Definition at line <a class="el" href="acmod_8c_source.html#l00341">341</a> of file <a class="el" href="acmod_8c_source.html">acmod.c</a>.</p>

<p>References <a class="el" href="acmod_8h_source.html#l00161">acmod_s::mgau</a>, <a class="el" href="acmod_8h_source.html#l00162">acmod_s::mllr</a>, and <a class="el" href="ps__mllr_8c_source.html#l00145">ps_mllr_free()</a>.</p>

<p>Referenced by <a class="el" href="pocketsphinx_8c_source.html#l00484">ps_update_mllr()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_8d034a1e03e98d9b7ac467250bbebdea.html">libpocketsphinx</a></li><li class="navelem"><a class="el" href="acmod_8c.html">acmod.c</a></li>
    <li class="footer">Generated on Wed Apr 13 2016 12:23:53 for PocketSphinx by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
